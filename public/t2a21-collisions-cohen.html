<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Box Collision Demo</title>
<style>
    body { background:#222; display:flex; justify-content:center; padding-top:30px; }
    canvas { background:#fff; border:2px solid #000; }
</style>
</head>
<body>

<canvas id="game" width="600" height="400"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

// Player boxes
const box1 = { x: 100, y: 150, size: 50, color: "blue", vx:0, vy:0 };  // WASD
const box2 = { x: 400, y: 150, size: 50, color: "red", vx:0, vy:0 };   // Arrow keys

const speed = 3;
const keys = {};

// Key listeners
document.addEventListener("keydown", e => keys[e.key] = true);
document.addEventListener("keyup", e => keys[e.key] = false);

// Collision check
function isColliding(a, b) {
    return (
        a.x < b.x + b.size &&
        a.x + a.size > b.x &&
        a.y < b.y + b.size &&
        a.y + a.size > b.y
    );
}

function update() {
    // WASD controls for box1
    if (keys["w"]) box1.y -= speed;
    if (keys["s"]) box1.y += speed;
    if (keys["a"]) box1.x -= speed;
    if (keys["d"]) box1.x += speed;

    // Arrow keys for box2
    if (keys["ArrowUp"]) box2.y -= speed;
    if (keys["ArrowDown"]) box2.y += speed;
    if (keys["ArrowLeft"]) box2.x -= speed;
    if (keys["ArrowRight"]) box2.x += speed;

    // Drawing
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // Detect collision
    let colliding = isColliding(box1, box2);

    ctx.fillStyle = colliding ? "lime" : box1.color;
    ctx.fillRect(box1.x, box1.y, box1.size, box1.size);

    ctx.fillStyle = colliding ? "lime" : box2.color;
    ctx.fillRect(box2.x, box2.y, box2.size, box2.size);

    requestAnimationFrame(update);
}

update();
</script>

</body>
</html>
